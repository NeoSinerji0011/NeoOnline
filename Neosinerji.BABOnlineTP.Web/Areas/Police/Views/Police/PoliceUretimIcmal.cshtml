@using Neosinerji.BABOnlineTP.Web.Content.Lang
@using Neosinerji.BABOnlineTP.Web.Areas.Police.Models
@using menu = Neosinerji.BABOnlineTP.Business.Common

@model PoliceUretimIcmalModel

@section HorizontalMenu
{
    <ul class="nav">
        <li class="active">
            <a href="javascript:;">Üretim Raporu (İcmal)<span class="selected"></span></a>
        </li>
        <li>
            <a data-toggle="dropdown" class="dropdown-toggle" href="javascript:;">@babonline.OtherReport<span class="arrow"></span></a>
            <ul class="dropdown-menu"></ul>
            <b class="caret-out"></b>
        </li>

        <li>
            <span class="hor-menu-search-form-toggler">&nbsp;</span>
            <div class="search-form hidden-phone hidden-tablet">
                <form class="form-search">
                    <div class="input-append">
                        <input type="text" placeholder="@babonline.Search" class="m-wrap">
                        <button type="button" class="btn"></button>
                    </div>
                </form>
            </div>
        </li>
    </ul>
}

@section PageHeader
{

}

@section PageScripts
{
    <link href="~/Content/css/bootstap-multiselect.css" rel="stylesheet" />
    <script src="~/Content/js/customDataTable.js" type="text/javascript"></script>

    @*    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>*@
    <script>

         createTable("#data_table_4", [4, 5,6,7,8, 9, 10, 11], [2],"","","A2");
        var myArray = [];
        @if (Model.tvmList != null)
        {
            foreach (var d in Model.tvmList)
            {
                   @:myArray.push("@d");
             }
        }
        var myArraySigortaSirket = [];
        @if (Model.SigortaSirketleriSelectList != null)
        {

            foreach (var d in Model.SigortaSirketleriSelectList)
            {
                   @:myArraySigortaSirket.push("@d");
             }
        }
        var myArrayBrans = [];
        @if (Model.BranslarSelectList != null)
        {
            foreach (var d in Model.BranslarSelectList)
            {
                   @:myArrayBrans.push("@d");
                     }
        }

        var myArrayDisUretimTVM = [];
        @if (Model.uretimTvmList != null)
        {

            foreach (var d in Model.uretimTvmList)
            {
                   @:myArrayDisUretimTVM.push("@d");
             }
        }    var myArrayDisUretimTVM = [];
        @if (Model.uretimTvmList != null)
        {

            foreach (var d in Model.uretimTvmList)
            {
                   @:myArrayDisUretimTVM.push("@d");
             }
        }
        $(document).ready(function () {
            //var oTable = $('.data-table').dataTable({
            //    "bFilter": false,
            //    "bSort": false,
            //    "bInfo": false,
            //    "bProcessing": false,
            //    "bServerSide": true,
            //    "sAjaxSource": "/Police/Police/PoliceUretimIcmal",
            //    "bDeferLoading": false,
            //    "iDeferLoading": 0,
            //    "sDom": 'T<"clear">lfrtip',
            //    "oTableTools": { "aButtons": ["xls", "print", "copy", "pdf"] },

            //});



            $("#DataTables_Table_0_length").css({ "display": "none" });
            $(".dataTables_paginate.paging_bootstrap.pagination").css({ "display": "none" });

            // ==== Tarih Ayarları ==== //

            $("[rel=tooltip]").tooltip();

            $("#search").click(function () {
                $(this).button("loading");
                var raporTip = $('input[name="RaporTipi"]:checked').val();
                if (raporTip == 0) {
                    $(".sirket").html("@babonline.InsuranceCompany");
                    $(".brans").html("@babonline.Branch_Name");
                }
                else if (raporTip == 1) {
                    $(".sirket").html("@babonline.Branch_Name");
                    $(".brans").html("@babonline.InsuranceCompany");
                }
                //oTable.fnDraw();
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            $("[rel=tooltip]").tooltip();

            //Tvm listesini Dolduruyor....
            var tvm = $("#TVMKodu").tvmfinder();
            tvm.enable();

            $('.multiselect').multiselect({
                includeSelectAllOption: true,
                enableFiltering: true,
                maxHeight: 170,
                nonSelectedText: '@babonline.PleaseSelect',
                selectAllText: '@babonline.Select_All',
                filterPlaceholder: '@babonline.Search',
                nSelectedText: '@babonline.Selected'
            });

            if (myArray.length > 0) {
                $('#tvmList').val(myArray);
            }
            $("#tvmList").multiselect("refresh");

            if (myArraySigortaSirket.length > 0) {
                $('#SigortaSirketleriSelectList').val(myArraySigortaSirket);
            }
            $("#SigortaSirketleriSelectList").multiselect("refresh");

            if (myArrayDisUretimTVM.length > 0) {
                $('#uretimTvmList').val(myArrayDisUretimTVM);
            }
            $("#uretimTvmList").multiselect("refresh");

            if (myArrayBrans.length > 0) {
                $('#BranslarSelectList').val(myArrayBrans);
            }
            $("#BranslarSelectList").multiselect("refresh");

            $(".closed").hide();

            $("#PoliceUretimIcmalSearch").click(function () {
                $(this).button("loading");
                //if ($("#tvmList").val() == null) {
                //    $(this).button('reset');
                //}
                if ($("#BranslarSelectList").val() == null) {
                    $(this).button('reset');
                }
                if ($("#SigortaSirketleriSelectList").val() == null) {
                    $(this).button('reset');
                }
            });

        });
        $('#BasT').datepicker({
            dateFormat: 'dd.mm.yy',
            onSelect: function (datetext) {
                var d = new Date(); // for now
                var h = d.getHours();
                h = (h < 10) ? ("0" + h) : h;

                var m = d.getMinutes();
                m = (m < 10) ? ("0" + m) : m;

                var s = d.getSeconds();
                s = (s < 10) ? ("0" + s) : s;

                //datetext = datetext + " " + h + ":" + m + ":" + s;
                //$('#datepicker').val(datetext);

                var minDate = $('#BasT').datepicker('getDate');

                var lastDate = $('#BasT').datepicker('getDate');
                lastDate.setMonth(lastDate.getMonth() + 1, 0);

                $("#BitT").datepicker("change", { maxDate: new Date(2018, 1, 18) });

                $("#BitT").datepicker("setDate", lastDate);
                $("#BitT").datepicker("change", { minDate: minDate });
                $("#BitT").datepicker("change", { maxDate: lastDate });
            },
        });

        $('#BitT').datepicker({
            dateFormat: 'dd.mm.yy',
            onSelect: function (datetext) {
                //var d = new Date(); // for now
                //var h = d.getHours();
                //h = (h < 10) ? ("0" + h) : h;

                //var m = d.getMinutes();
                //m = (m < 10) ? ("0" + m) : m;

                //var s = d.getSeconds();
                //s = (s < 10) ? ("0" + s) : s;

                datetext = datetext + " " + h + ":" + m + ":" + s;
                $('#BitT').val(datetext);
            },
        });

        var date = new Date();
        var date2 = new Date();
        date.setMonth(date.getMonth(), 1);
        date2.setMonth(date2.getMonth() + 1, 0);
        $("#BasT").datepicker("setDate", date);
        $("#BitT").datepicker("setDate", date2);

        $("#BitT").datepicker("change", { minDate: date });
        $("#BitT").datepicker("change", { maxDate: date2 });

        $(".clk").click(function () {
            var id = $(this).attr('id');
            $(".strclose-" + id.substring(4)).toggle();
        });

    </script>

    <style>
        .odd td:nth-child(1n+3) {
            text-align: right;
        }

        .even td:nth-child(1n+3) {
            text-align: right;
        }
    </style>
}

<div class="row-fluid">
    <div class="span12">
        <div class="portlet box light-grey" style="margin-top: 24px;">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-reorder"></i>
                    <span class="hidden-480">Üretim Raporu (İcmal)</span>
                </div>
            </div>
            <div class="portlet-body form">
                @using (Html.BeginForm("PoliceUretimIcmal", "Police", FormMethod.Post, new { id = "PoliceUretimIcmal", @class = "form-horizontal", enctype = "multipart/form-data" }))
                {
                    <div class="row-fluid" style="padding-top: 10px;">
                        <div class="span6">
                            <div class="control-group">
                                <label class="control-label">@babonline.TVM</label>
                                <div class="controls">
                                    @Html.DropDownListFor(s => s.tvmList, Model.tvmler, new { @class = "multiselect", multiple = "multiple" })
                                    @Html.ValidationMessageFor(m => m.tvmList)
                                </div>
                            </div>
                        </div>
                        <div class="span6">
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span6">
                            <div class="control-group">
                                <label class="control-label">Üzerinden İş Yapılan Dış Kaynak</label>
                                <div class="controls">
                                    @Html.DropDownListFor(s => s.uretimTvmList, Model.uretimTvmler, new { @class = "multiselect", multiple = "multiple" })
                                    @Html.ValidationMessageFor(m => m.uretimTvmList)
                                </div>
                            </div>
                        </div>
                        <div class="span6">
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span6">
                            <div class="control-group">
                                <label class="control-label">@babonline.InsuranceCompany</label>
                                <div class="controls">
                                    @Html.DropDownListFor(s => s.SigortaSirketleriSelectList, Model.SigortaSirketleri, new { @class = "multiselect", multiple = "multiple", required = "required" })
                                    @Html.ValidationMessageFor(m => m.SigortaSirketleriSelectList)
                                </div>
                            </div>
                        </div>
                        <div class="span6">
                        </div>
                    </div>
                    <div class="row-fluid">
                        <div class="span6">
                            <div class="control-group">
                                <label class="control-label">@babonline.Branch</label>
                                <div class="controls">
                                    @Html.DropDownListFor(s => s.BranslarSelectList, Model.Branslar, new { @class = "multiselect", multiple = "multiple", required = "required" })
                                    @Html.ValidationMessageFor(m => m.BranslarSelectList)
                                </div>
                            </div>
                        </div>
                        <div class="span6">
                        </div>
                    </div>

                    <div class="row-fluid">
                        <div class="span12">
                            <div class="control-group">
                                <label class="control-label">@babonline.Period_Month_Year</label>
                                <div class="controls">
                                    @Html.DropDownListFor(s => s.Ay, Model.Aylar, new { style = "width:100px" })
                                    @Html.DropDownListFor(s => s.Yil, Model.Yillar, new { style = "width:125px" })
                                </div>
                            </div>
                            @*<div class="control-group">
                                    <label class="control-label">@babonline.ReportStartDate</label>
                                    <div class="controls input-append datepicker date">
                                        @Html.TextBoxFor(s => s.BaslangicTarih, new { style = "width:100px", Id = "BasT" })
                                        <img class="ui-datepicker-trigger" src="/Content/img/glyphicons_045_calendar.png" alt="..." title="...">
                                    </div>
                                </div>
                                <div class="control-group ">
                                    <label class="control-label">@babonline.ReportEndDate</label>
                                    <div class="controls input-append datepicker date">
                                        @Html.TextBoxFor(s => s.BitisTarih, new { style = "width:100px", Id = "BitT" })
                                        <img class="ui-datepicker-trigger" src="/Content/img/glyphicons_045_calendar.png" alt="..." title="...">
                                    </div>
                                </div>*@
                        </div>
                        <div class="span6">
                        </div>
                    </div>

                    <div class="row-fluid">
                        <div class="span6">
                            <div class="control-group">
                                <label class="control-label">@babonline.ReportType</label>
                                <div class="controls radio-custom">
                                    @Html.RadioButtonListFor(m => m.RaporTipi, Model.RaporTipleri)
                                </div>
                            </div>
                        </div>
                        <div class="span6">
                        </div>
                    </div>

                    <div id="alert" class="alert fade" style="display: none">
                        <button type="button" class="close" id="close-alert">×</button>
                        <strong>@babonline.Warning</strong>  @babonline.Message_Customer_SearchError
                    </div>
                    <div class="form-actions">
                        <a href="~/Police/Police/PoliceUretimIcmal" class="btn ligth-grey">@babonline.Clear</a>
                        <input type="submit" id="PoliceUretimIcmalSearch" class="btn btn-success" data-loading-text="@babonline.QueryIndicator" value="@babonline.Search" />
                    </div>
                }

                <div class="row-fluid" style="margin-top: 20px;">
                    <div class="span12">
                        <div id="table-div" style="overflow-x: auto; margin-top: 15px;">
                            @{
                                decimal kontrolDegiskeni = Convert.ToDecimal(0);
                            }
                            @if (ViewBag.AnaTVM)
                            {
                                <table class="table table-bordered dataTable data-table" id="data_table_4" style="table-layout:auto; width: 100%;">

                                    <thead>
                                        <tr>
                                            <th style="width: 7%;">@babonline.TVM</th>
                                            <th style="width: 7%;">Üzerinden İş Yapılan Dış Kaynak</th>
                                            @if (Model.RaporTipi == 0)
                                            {
                                                <th style="width: 10%;">@babonline.InsuranceCompany</th>
                                                <th style="width: 5%;">@babonline.Branch_Name</th>
                                            }
                                            else if (Model.RaporTipi == 1)
                                            {
                                                <th style="width: 5%;">@babonline.Branch_Name</th>
                                                <th style="width: 10%;">@babonline.InsuranceCompany</th>
                                            }
                                            <th style="text-align: center;">@babonline.Gross_Premium   <br />@babonline.Accrual    </th>
                                            <th style="text-align: center;">@babonline.Gross_Premium   <br />@babonline.Cancel     </th>
                                            <th style="text-align: center;">@babonline.Net_Premium     <br />@babonline.Accrual        </th>
                                            <th style="text-align: center;">@babonline.Net_Premium     <br />@babonline.Cancel        </th>
                                            <th style="text-align: center;">@babonline.Commission      <br />@babonline.Accrual      </th>
                                            <th style="text-align: center;">@babonline.Commission      <br />@babonline.Cancel      </th>
                                            <th style="text-align: center;">@babonline.SubAgencyComission <br />@babonline.Accrual  </th>
                                            <th style="text-align: center;">@babonline.SubAgencyComission <br />@babonline.Cancel  </th>
                                        </tr>
                                    @*<tr>

                                        </tr>
                                        <tr>
                                            <th style="width: 78px; text-align: center;"></th>
                                            <th style="width: 78px; text-align: center;"></th>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                        </tr>*@
                                    </thead>


                                    <tbody>


                                        @if (Model.RaporTipi == 0)
                                        {
                                            var sayac = 0;

                                            //Tanımlamalar
                                            decimal GenelBrutToplam = 0;
                                            decimal GenelVergiToplam = 0;
                                            decimal GenelKomisyonToplam = 0;
                                            decimal GenelVerilenKomisyonToplam = 0;

                                            decimal IptalGenelBrutToplam = 0;
                                            decimal IptalGenelVergiToplam = 0;
                                            decimal IptalGenelKomisyonToplam = 0;
                                            decimal IptalGenelVerilenKomisyonToplam = 0;

                                            decimal araGenelBrutToplam = 0;
                                            decimal araGenelVergiToplam = 0;
                                            decimal araGenelKomisyonToplam = 0;
                                            decimal araGenelVerilenKomisyonToplam = 0;

                                            decimal araIptalGenelBrutToplam = 0;
                                            decimal araIptalGenelVergiToplam = 0;
                                            decimal araIptalGenelKomisyonToplam = 0;
                                            decimal araIptalGenelVerilenKomisyonToplam = 0;

                                            int itemSayac = 0;
                                            int disKaynakItemSayac = 0;
                                            int kontrol = 0;
                                            int disKaynakKontrol = 0;

                                            decimal brutToplam = 0;
                                            decimal komisyonToplam = 0;
                                            decimal verilenKomisyonToplam = 0;
                                            decimal vergiToplam = 0;

                                            decimal IptalvergiToplam = 0;
                                            decimal IptalkomisyonToplam = 0;
                                            decimal IptalbrutToplam = 0;
                                            decimal IptalverilenKomisyonToplam = 0;

                                            decimal disKaynakbrutToplam = 0;
                                            decimal disKaynakkomisyonToplam = 0;
                                            decimal disKaynakverilenKomisyonToplam = 0;
                                            decimal disKaynakvergiToplam = 0;

                                            decimal disKaynakIptalvergiToplam = 0;
                                            decimal disKaynakIptalkomisyonToplam = 0;
                                            decimal disKaynakIptalbrutToplam = 0;
                                            decimal disKaynakIptalverilenKomisyonToplam = 0;

                                            int tvmsayac = 0;
                                            int disKaynakTvmSayac = 0;
                                            int tvmKontrol = 0;
                                            int disKaynakTvmKontrol = 0;

                                            if (Model.procedureList != null)
                                            {
                                                foreach (var item in Model.procedureList)
                                                {
                                                    //Satış Kanalı Gruplama
                                                    if (tvmKontrol == 0)
                                                    {
                                                        araGenelBrutToplam = 0;
                                                        araGenelVergiToplam = 0;
                                                        araGenelKomisyonToplam = 0;
                                                        araGenelVerilenKomisyonToplam = 0;
                                                        araIptalGenelBrutToplam = 0;
                                                        araIptalGenelVergiToplam = 0;
                                                        araIptalGenelKomisyonToplam = 0;
                                                        araIptalGenelVerilenKomisyonToplam = 0;
                                                        foreach (var itemTVM in Model.procedureList)
                                                        {

                                                            if (itemTVM.SatisKanaliUnvani == item.SatisKanaliUnvani)
                                                            {
                                                                araGenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                araGenelVergiToplam += itemTVM.TahakkukToplamNetPrim.HasValue ? itemTVM.TahakkukToplamNetPrim.Value : 0;
                                                                araGenelKomisyonToplam += itemTVM.TahakkukKomisyon.HasValue ? itemTVM.TahakkukKomisyon.Value : 0;
                                                                araGenelVerilenKomisyonToplam += itemTVM.TahakkukVerilenKomisyon.HasValue ? itemTVM.TahakkukVerilenKomisyon.Value : 0;

                                                                araIptalGenelBrutToplam += itemTVM.IptalBrutPrim.HasValue ? itemTVM.IptalBrutPrim.Value : 0;
                                                                araIptalGenelVergiToplam += itemTVM.IptalToplamNetPrim.HasValue ? itemTVM.IptalToplamNetPrim.Value : 0;
                                                                araIptalGenelKomisyonToplam += itemTVM.IptalKomisyon.HasValue ? itemTVM.IptalKomisyon.Value : 0;
                                                                araIptalGenelVerilenKomisyonToplam += itemTVM.IptalVerilenKomisyon.HasValue ? itemTVM.IptalVerilenKomisyon.Value : 0;

                                                                GenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                GenelVergiToplam += itemTVM.TahakkukToplamNetPrim.HasValue ? itemTVM.TahakkukToplamNetPrim.Value : 0;
                                                                GenelKomisyonToplam += itemTVM.TahakkukKomisyon.HasValue ? itemTVM.TahakkukKomisyon.Value : 0;
                                                                GenelVerilenKomisyonToplam += itemTVM.TahakkukVerilenKomisyon.HasValue ? itemTVM.TahakkukVerilenKomisyon.Value : 0;

                                                                IptalGenelBrutToplam += itemTVM.IptalBrutPrim.HasValue ? itemTVM.IptalBrutPrim.Value : 0;
                                                                IptalGenelVergiToplam += itemTVM.IptalToplamNetPrim.HasValue ? itemTVM.IptalToplamNetPrim.Value : 0;
                                                                IptalGenelKomisyonToplam += itemTVM.IptalKomisyon.HasValue ? itemTVM.IptalKomisyon.Value : 0;
                                                                IptalGenelVerilenKomisyonToplam += itemTVM.IptalVerilenKomisyon.HasValue ? itemTVM.IptalVerilenKomisyon.Value : 0;

                                                                if (itemTVM.DisKaynakUnvani == "YOK")
                                                                {
                                                                    tvmsayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakTvmSayac++;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    //şirket Gruplama
                                                    if (kontrol == 0 && disKaynakKontrol == 0)
                                                    {
                                                        brutToplam = 0;
                                                        komisyonToplam = 0;
                                                        verilenKomisyonToplam = 0;
                                                        vergiToplam = 0;
                                                        IptalvergiToplam = 0;
                                                        IptalkomisyonToplam = 0;
                                                        IptalbrutToplam = 0;
                                                        IptalverilenKomisyonToplam = 0;

                                                        disKaynakbrutToplam = 0;
                                                        disKaynakkomisyonToplam = 0;
                                                        disKaynakverilenKomisyonToplam = 0;
                                                        disKaynakvergiToplam = 0;
                                                        disKaynakIptalvergiToplam = 0;
                                                        disKaynakIptalkomisyonToplam = 0;
                                                        disKaynakIptalbrutToplam = 0;
                                                        disKaynakIptalverilenKomisyonToplam = 0;

                                                        foreach (var itemSirket in Model.procedureList)
                                                        {
                                                            if (itemSirket.SirketAdi == item.SirketAdi && itemSirket.SatisKanaliUnvani == item.SatisKanaliUnvani && itemSirket.DisKaynakUnvani == item.DisKaynakUnvani)
                                                            {
                                                                if (itemSirket.DisKaynakUnvani == "YOK")
                                                                {
                                                                    brutToplam += itemSirket.TahakkukBrutPrim.HasValue ? itemSirket.TahakkukBrutPrim.Value : 0;
                                                                    vergiToplam += itemSirket.TahakkukToplamNetPrim.HasValue ? itemSirket.TahakkukToplamNetPrim.Value : 0;
                                                                    komisyonToplam += itemSirket.TahakkukKomisyon.HasValue ? itemSirket.TahakkukKomisyon.Value : 0;
                                                                    verilenKomisyonToplam += Convert.ToDecimal(itemSirket.TahakkukVerilenKomisyon);

                                                                    IptalbrutToplam += itemSirket.IptalBrutPrim.HasValue ? itemSirket.IptalBrutPrim.Value : 0;
                                                                    IptalvergiToplam += itemSirket.IptalToplamNetPrim.HasValue ? itemSirket.IptalToplamNetPrim.Value : 0;
                                                                    IptalkomisyonToplam += itemSirket.IptalKomisyon.HasValue ? itemSirket.IptalKomisyon.Value : 0;
                                                                    IptalverilenKomisyonToplam += itemSirket.IptalVerilenKomisyon.HasValue ? itemSirket.IptalVerilenKomisyon.Value : 0;
                                                                    itemSayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakbrutToplam += itemSirket.TahakkukBrutPrim.HasValue ? itemSirket.TahakkukBrutPrim.Value : 0;
                                                                    disKaynakvergiToplam += itemSirket.TahakkukToplamNetPrim.HasValue ? itemSirket.TahakkukToplamNetPrim.Value : 0;
                                                                    disKaynakkomisyonToplam += itemSirket.TahakkukKomisyon.HasValue ? itemSirket.TahakkukKomisyon.Value : 0;
                                                                    disKaynakverilenKomisyonToplam += Convert.ToDecimal(itemSirket.TahakkukVerilenKomisyon);

                                                                    disKaynakIptalbrutToplam += itemSirket.IptalBrutPrim.HasValue ? itemSirket.IptalBrutPrim.Value : 0;
                                                                    disKaynakIptalvergiToplam += itemSirket.IptalToplamNetPrim.HasValue ? itemSirket.IptalToplamNetPrim.Value : 0;
                                                                    disKaynakIptalkomisyonToplam += itemSirket.IptalKomisyon.HasValue ? itemSirket.IptalKomisyon.Value : 0;
                                                                    disKaynakIptalverilenKomisyonToplam += itemSirket.IptalVerilenKomisyon.HasValue ? itemSirket.IptalVerilenKomisyon.Value : 0;
                                                                    disKaynakItemSayac++;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    //Poliçelerin tabloya yazdırılması
                                                    if (tvmsayac > 0 && tvmKontrol == 0)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="clk" id="str-@sayac">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                    <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                </td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                            </tr>
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;

                                                        }
                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;

                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }
                                                        tvmKontrol = 1;
                                                    }
                                                    else if (tvmsayac > 0 && tvmKontrol == 1)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;

                                                        }
                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;

                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }
                                                    }
                                                    if (itemSayac == 0)
                                                    {
                                                        if (item.DisKaynakUnvani == "YOK")
                                                        {
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalbrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@vergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalvergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@komisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalkomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalverilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            decimal brutTahIptal = 0;
                                                            brutTahIptal = (brutToplam + IptalbrutToplam);
                                                            decimal netTahIptal = 0;
                                                            netTahIptal = (vergiToplam + IptalvergiToplam);
                                                            decimal komisyonTahIptal = 0;
                                                            komisyonTahIptal = (komisyonToplam + IptalkomisyonToplam);
                                                            decimal verilenKomisyonTahIptal = 0;
                                                            verilenKomisyonTahIptal = (verilenKomisyonToplam + IptalverilenKomisyonToplam);

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@netTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@komisyonTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonTahIptal.ToString("N")</td>
                                                            </tr>
                                                            decimal sirketKomOrani = 0;
                                                            decimal sirketVerilenKomOrani = 0;
                                                            if (komisyonTahIptal != kontrolDegiskeni && netTahIptal != kontrolDegiskeni)
                                                            {
                                                                sirketKomOrani = (komisyonTahIptal / netTahIptal);
                                                                sirketVerilenKomOrani = (verilenKomisyonTahIptal / komisyonTahIptal);
                                                            }

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOrani.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 0;
                                                        }

                                                        //if (tvmsayac == 0)
                                                        //{
                                                        //    tvmKontrol = 0;
                                                        //}

                                                        if (tvmsayac == 0 && tvmKontrol == 0 && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0 && item.DisKaynakUnvani != "YOK")
                                                        {
                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="clk" id="str-@sayac">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                        <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                    </td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                </tr>
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }

                                                            disKaynakTvmKontrol = 1;
                                                            tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {
                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 0 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        if (Model.uretimTvmList != null)
                                                        {
                                                            if (disKaynakItemSayac == 0 && item.DisKaynakUnvani != "YOK")
                                                            {
                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakkomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalkomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakIptalverilenKomisyonToplam.ToString("N")</td>
                                                                </tr>
                                                                decimal disKaynakbrutTahIptal = 0;
                                                                disKaynakbrutTahIptal = (disKaynakbrutToplam + disKaynakIptalbrutToplam);
                                                                decimal disKaynaknetTahIptal = 0;
                                                                disKaynaknetTahIptal = (disKaynakvergiToplam + disKaynakIptalvergiToplam);
                                                                decimal disKaynakkomisyonTahIptal = 0;
                                                                disKaynakkomisyonTahIptal = (disKaynakkomisyonToplam + disKaynakIptalkomisyonToplam);
                                                                decimal disKaynakverilenKomisyonTahIptal = 0;
                                                                disKaynakverilenKomisyonTahIptal = (disKaynakverilenKomisyonToplam + disKaynakIptalverilenKomisyonToplam);

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynaknetTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakkomisyonTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonTahIptal.ToString("N")</td>
                                                                </tr>
                                                                decimal sirketKomOran = 0;
                                                                decimal sirketVerilenKomOran = 0;
                                                                if (disKaynakkomisyonTahIptal != kontrolDegiskeni && disKaynaknetTahIptal != kontrolDegiskeni)
                                                                {
                                                                    sirketKomOran = (disKaynakkomisyonTahIptal / disKaynaknetTahIptal);
                                                                    sirketVerilenKomOran = (disKaynakverilenKomisyonTahIptal / disKaynakkomisyonTahIptal);
                                                                }

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOran.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOran.ToString("N")</td>
                                                                </tr>
                                                            }
                                                        }

                                                        if (tvmsayac == 0 && disKaynakTvmSayac == 0)
                                                        {
                                                            tvmKontrol = 0;
                                                            disKaynakTvmKontrol = 0;
                                                        }

                                                        if (tvmKontrol == 0 && disKaynakTvmKontrol == 0)
                                                        {
                                                            sayac++;
                                                            decimal satisKanaliBrutTahIptal = 0;
                                                            satisKanaliBrutTahIptal = (araGenelBrutToplam + araIptalGenelBrutToplam);
                                                            decimal satisKanaliNetTahIptal = 0;
                                                            satisKanaliNetTahIptal = (araGenelVergiToplam + araIptalGenelVergiToplam);
                                                            decimal satisKanaliKomTahIptal = 0;
                                                            satisKanaliKomTahIptal = (araGenelKomisyonToplam + araIptalGenelKomisyonToplam);
                                                            decimal satisKanaliVerilenKomTahIptal = 0;
                                                            satisKanaliVerilenKomTahIptal = (araGenelVerilenKomisyonToplam + araIptalGenelVerilenKomisyonToplam);
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVerilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araIptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim : </td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliBrutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliNetTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliKomTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@satisKanaliVerilenKomTahIptal.ToString("N")</td>
                                                            </tr>
                                                            var komOrani = (decimal)0;
                                                            if (satisKanaliKomTahIptal > 0 || satisKanaliNetTahIptal > 0)
                                                            {
                                                                komOrani = (satisKanaliKomTahIptal / satisKanaliNetTahIptal);
                                                            }

                                                            var verilenKomOrani = (decimal)0;
                                                            if (satisKanaliVerilenKomTahIptal != kontrolDegiskeni || satisKanaliKomTahIptal != kontrolDegiskeni)
                                                            {
                                                                verilenKomOrani = (satisKanaliVerilenKomTahIptal / satisKanaliKomTahIptal);
                                                            }
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @komOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @verilenKomOrani.ToString("N")</td>

                                                            </tr>
                                                        }
                                                    }
                                                    //-----Poliçelerin tabloya yazdırılması
                                                }
                                                //-----Genel (Dipyekün) toplamların tabloya yazdırılması
                                                if (@GenelBrutToplam > 0)
                                                {
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL TOPLAM</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelBrutToplam.ToString("N")</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@IptalGenelBrutToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVergiToplam.ToString("N")</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@IptalGenelVergiToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelKomisyonToplam.ToString("N")</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@IptalGenelKomisyonToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@IptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                    </tr>
                                                    decimal GenelBrutTahsilatIptalToplam = 0;
                                                    GenelBrutTahsilatIptalToplam = (GenelBrutToplam + IptalGenelBrutToplam);

                                                    decimal GenelNetTahsilatIptalToplam = 0;
                                                    GenelNetTahsilatIptalToplam = (GenelVergiToplam + IptalGenelVergiToplam);

                                                    decimal GenelKomisyonTahsilatIptalToplam = 0;
                                                    GenelKomisyonTahsilatIptalToplam = (GenelKomisyonToplam + IptalGenelKomisyonToplam);

                                                    decimal GenelVerilenKomisyonTahsilatIptalToplam = 0;
                                                    GenelVerilenKomisyonTahsilatIptalToplam = (GenelVerilenKomisyonToplam + IptalGenelVerilenKomisyonToplam);

                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelBrutTahsilatIptalToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelNetTahsilatIptalToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                    </tr>
                                                    var genelKomOrani = (GenelKomisyonTahsilatIptalToplam / GenelNetTahsilatIptalToplam);
                                                    var genelVerilenKomOrani = (GenelVerilenKomisyonTahsilatIptalToplam / GenelKomisyonTahsilatIptalToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL KOMİSYON ORANI</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">% @genelKomOrani.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">% @genelVerilenKomOrani.ToString("N")</td>
                                                    </tr>
                                                }   //--------------Genel (Dipyekün) toplamların tabloya yazdırılması
                                            }

                                        }

                                        //Brans Bazında Tabloya kayıt yazdırma
                                        else
                                        {
                                            //----Değişken Tanımlamaları
                                            var sayac = 0;
                                            decimal GenelBrutToplam = 0;
                                            decimal GenelVergiToplam = 0;
                                            decimal GenelKomisyonToplam = 0;
                                            decimal GenelVerilenKomisyonToplam = 0;
                                            decimal IptalGenelBrutToplam = 0;
                                            decimal IptalGenelVergiToplam = 0;
                                            decimal IptalGenelKomisyonToplam = 0;
                                            decimal IptalGenelVerilenKomisyonToplam = 0;
                                            decimal araGenelBrutToplam = 0;
                                            decimal araGenelVergiToplam = 0;
                                            decimal araGenelKomisyonToplam = 0;
                                            decimal araGenelVerilenKomisyonToplam = 0;
                                            decimal araIptalGenelBrutToplam = 0;
                                            decimal araIptalGenelVergiToplam = 0;
                                            decimal araIptalGenelKomisyonToplam = 0;
                                            decimal araIptalGenelVerilenKomisyonToplam = 0;
                                            decimal brutToplam = 0;
                                            decimal komisyonToplam = 0;
                                            decimal verilenKomisyonToplam = 0;
                                            decimal vergiToplam = 0;
                                            decimal IptalvergiToplam = 0;
                                            decimal IptalkomisyonToplam = 0;
                                            decimal IptalbrutToplam = 0;
                                            decimal IptalverilenKomisyonToplam = 0;

                                            decimal disKaynakbrutToplam = 0;
                                            decimal disKaynakkomisyonToplam = 0;
                                            decimal disKaynakverilenKomisyonToplam = 0;
                                            decimal disKaynakvergiToplam = 0;
                                            decimal disKaynakIptalvergiToplam = 0;
                                            decimal disKaynakIptalkomisyonToplam = 0;
                                            decimal disKaynakIptalbrutToplam = 0;
                                            decimal disKaynakIptalverilenKomisyonToplam = 0;

                                            int itemSayac = 0;
                                            int kontrol = 0;

                                            int tvmsayac = 0;
                                            int tvmKontrol = 0;

                                            int disKaynakItemSayac = 0;
                                            int disKaynakKontrol = 0;

                                            int disKaynakTvmSayac = 0;
                                            int disKaynakTvmKontrol = 0;

                                            if (Model.procedureList != null)
                                            {
                                                foreach (var item in Model.procedureList)
                                                {
                                                    // Satış kanalı gruplanıyor
                                                    if (tvmKontrol == 0)
                                                    {
                                                        araGenelBrutToplam = 0;
                                                        araGenelVergiToplam = 0;
                                                        araGenelKomisyonToplam = 0;
                                                        araGenelVerilenKomisyonToplam = 0;
                                                        araIptalGenelBrutToplam = 0;
                                                        araIptalGenelVergiToplam = 0;
                                                        araIptalGenelKomisyonToplam = 0;
                                                        araIptalGenelVerilenKomisyonToplam = 0;
                                                        foreach (var itemTVM in Model.procedureList)
                                                        {
                                                            if (itemTVM.SatisKanaliUnvani == item.SatisKanaliUnvani)
                                                            {
                                                                araGenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                araGenelVergiToplam += Convert.ToDecimal(itemTVM.TahakkukToplamNetPrim);
                                                                araGenelKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukKomisyon);
                                                                araGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukVerilenKomisyon);
                                                                araIptalGenelBrutToplam += Convert.ToDecimal(itemTVM.IptalBrutPrim);
                                                                araIptalGenelVergiToplam += Convert.ToDecimal(itemTVM.IptalToplamNetPrim);
                                                                araIptalGenelKomisyonToplam += Convert.ToDecimal(itemTVM.IptalKomisyon);
                                                                araIptalGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.IptalVerilenKomisyon);

                                                                GenelBrutToplam += Convert.ToDecimal(itemTVM.TahakkukBrutPrim);
                                                                GenelVergiToplam += Convert.ToDecimal(itemTVM.TahakkukToplamNetPrim);
                                                                GenelKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukKomisyon);
                                                                GenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukVerilenKomisyon);
                                                                IptalGenelBrutToplam += Convert.ToDecimal(itemTVM.IptalBrutPrim);
                                                                IptalGenelVergiToplam += Convert.ToDecimal(itemTVM.IptalToplamNetPrim);
                                                                IptalGenelKomisyonToplam += Convert.ToDecimal(itemTVM.IptalKomisyon);
                                                                IptalGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.IptalVerilenKomisyon);

                                                                if (itemTVM.DisKaynakUnvani == "YOK")
                                                                {

                                                                    tvmsayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakTvmSayac++;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    if (kontrol == 0 && disKaynakKontrol == 0)
                                                    {
                                                        brutToplam = 0;
                                                        komisyonToplam = 0;
                                                        verilenKomisyonToplam = 0;
                                                        vergiToplam = 0;
                                                        IptalvergiToplam = 0;
                                                        IptalkomisyonToplam = 0;
                                                        IptalbrutToplam = 0;
                                                        IptalverilenKomisyonToplam = 0;

                                                        disKaynakbrutToplam = 0;
                                                        disKaynakkomisyonToplam = 0;
                                                        disKaynakverilenKomisyonToplam = 0;
                                                        disKaynakvergiToplam = 0;
                                                        disKaynakIptalvergiToplam = 0;
                                                        disKaynakIptalkomisyonToplam = 0;
                                                        disKaynakIptalbrutToplam = 0;
                                                        disKaynakIptalverilenKomisyonToplam = 0;

                                                        foreach (var itemBrans in Model.procedureList)
                                                        {
                                                            if (itemBrans.BransAdi == item.BransAdi && itemBrans.SatisKanaliUnvani == item.SatisKanaliUnvani && itemBrans.DisKaynakUnvani == item.DisKaynakUnvani)
                                                            {
                                                                if (itemBrans.DisKaynakUnvani == "YOK")
                                                                {
                                                                    itemSayac++;
                                                                    brutToplam += Convert.ToDecimal(itemBrans.TahakkukBrutPrim);
                                                                    vergiToplam += Convert.ToDecimal(itemBrans.TahakkukToplamNetPrim);
                                                                    komisyonToplam += Convert.ToDecimal(itemBrans.TahakkukKomisyon);
                                                                    verilenKomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukVerilenKomisyon);
                                                                    IptalbrutToplam += Convert.ToDecimal(itemBrans.IptalBrutPrim);
                                                                    IptalvergiToplam += Convert.ToDecimal(itemBrans.IptalToplamNetPrim);
                                                                    IptalkomisyonToplam += Convert.ToDecimal(itemBrans.IptalKomisyon);
                                                                    IptalverilenKomisyonToplam += Convert.ToDecimal(itemBrans.IptalVerilenKomisyon);
                                                                }
                                                                else
                                                                {
                                                                    disKaynakItemSayac++;
                                                                    disKaynakbrutToplam += Convert.ToDecimal(itemBrans.TahakkukBrutPrim);
                                                                    disKaynakvergiToplam += Convert.ToDecimal(itemBrans.TahakkukToplamNetPrim);
                                                                    disKaynakkomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukKomisyon);
                                                                    disKaynakverilenKomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukVerilenKomisyon);
                                                                    disKaynakIptalbrutToplam += Convert.ToDecimal(itemBrans.IptalBrutPrim);
                                                                    disKaynakIptalvergiToplam += Convert.ToDecimal(itemBrans.IptalToplamNetPrim);
                                                                    disKaynakIptalkomisyonToplam += Convert.ToDecimal(itemBrans.IptalKomisyon);
                                                                    disKaynakIptalverilenKomisyonToplam += Convert.ToDecimal(itemBrans.IptalVerilenKomisyon);
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (tvmsayac > 0 && tvmKontrol == 0)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="clk" id="str-@sayac">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                    <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                </td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                            </tr>

                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;
                                                        }

                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;
                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }

                                                        tvmKontrol = 1;
                                                    }

                                                    else if (tvmsayac > 0 && tvmKontrol == 1)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;
                                                        }

                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;
                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }
                                                    }

                                                    if (itemSayac == 0)
                                                    {
                                                        if (item.DisKaynakUnvani == "YOK")
                                                        {
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalbrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@vergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalvergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@komisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalkomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalverilenKomisyonToplam.ToString("N")</td>


                                                            </tr>
                                                            var brutTahIptal = (brutToplam + IptalbrutToplam);
                                                            var netTahIptal = (vergiToplam + IptalvergiToplam);
                                                            var komisyonTahIptal = (komisyonToplam + IptalkomisyonToplam);
                                                            var verilenKomisyonTahIptal = (verilenKomisyonToplam + IptalverilenKomisyonToplam);
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brut  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@netTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@komisyonTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonTahIptal.ToString("N")</td>
                                                            </tr>
                                                            decimal bransKomOrani = 0;
                                                            decimal bransVerilenKomOrani = 0;
                                                            if (komisyonTahIptal != kontrolDegiskeni && netTahIptal != kontrolDegiskeni)
                                                            {
                                                                bransKomOrani = (komisyonTahIptal / netTahIptal);
                                                                bransVerilenKomOrani = (verilenKomisyonTahIptal / komisyonTahIptal);
                                                            }

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @bransKomOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @bransVerilenKomOrani.ToString("N")</td>
                                                            </tr>

                                                            kontrol = 0;
                                                        }

                                                        if (tvmsayac == 0 && tvmKontrol == 0 && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0 && item.DisKaynakUnvani != "YOK")
                                                        {
                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="clk" id="str-@sayac">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                        <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                    </td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                </tr>
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }

                                                            disKaynakTvmKontrol = 1;
                                                            tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            //disKaynakTvmKontrol = 1;
                                                            //tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 0 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        if (Model.uretimTvmList != null)
                                                        {
                                                            if (disKaynakItemSayac == 0 && item.DisKaynakUnvani != "YOK")
                                                            {
                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakkomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalkomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakIptalverilenKomisyonToplam.ToString("N")</td>
                                                                </tr>
                                                                decimal disKaynakbrutTahIptal = 0;
                                                                disKaynakbrutTahIptal = (disKaynakbrutToplam + disKaynakIptalbrutToplam);
                                                                decimal disKaynaknetTahIptal = 0;
                                                                disKaynaknetTahIptal = (disKaynakvergiToplam + disKaynakIptalvergiToplam);
                                                                decimal disKaynakkomisyonTahIptal = 0;
                                                                disKaynakkomisyonTahIptal = (disKaynakkomisyonToplam + disKaynakIptalkomisyonToplam);
                                                                decimal disKaynakverilenKomisyonTahIptal = 0;
                                                                disKaynakverilenKomisyonTahIptal = (disKaynakverilenKomisyonToplam + disKaynakIptalverilenKomisyonToplam);

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynaknetTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakkomisyonTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonTahIptal.ToString("N")</td>
                                                                </tr>
                                                                decimal sirketKomOran = 0;
                                                                decimal sirketVerilenKomOran = 0;
                                                                if (disKaynakkomisyonTahIptal != 0)
                                                                {
                                                                    sirketKomOran = (disKaynakkomisyonTahIptal / disKaynaknetTahIptal);
                                                                    sirketVerilenKomOran = (disKaynakverilenKomisyonTahIptal / disKaynakkomisyonTahIptal);
                                                                }

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOran.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOran.ToString("N")</td>
                                                                </tr>
                                                            }
                                                        }

                                                        if (tvmsayac == 0 && disKaynakTvmSayac == 0)
                                                        {
                                                            tvmKontrol = 0;
                                                            disKaynakTvmKontrol = 0;
                                                        }

                                                        if (tvmKontrol == 0 && disKaynakTvmKontrol == 0)
                                                        {
                                                            sayac++;
                                                            decimal satisKanaliBrutTahIptal = 0;
                                                            satisKanaliBrutTahIptal = (araGenelBrutToplam + araIptalGenelBrutToplam);
                                                            decimal satisKanaliNetTahIptal = 0;
                                                            satisKanaliNetTahIptal = (araGenelVergiToplam + araIptalGenelVergiToplam);
                                                            decimal satisKanaliKomTahIptal = 0;
                                                            satisKanaliKomTahIptal = (araGenelKomisyonToplam + araIptalGenelKomisyonToplam);
                                                            decimal satisKanaliVerilenKomTahIptal = 0;
                                                            satisKanaliVerilenKomTahIptal = (araGenelVerilenKomisyonToplam + araIptalGenelVerilenKomisyonToplam);
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVerilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araIptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim : </td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliBrutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliNetTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliKomTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@satisKanaliVerilenKomTahIptal.ToString("N")</td>
                                                            </tr>
                                                            var komOrani = (decimal)0;
                                                            if (satisKanaliKomTahIptal != kontrolDegiskeni || satisKanaliNetTahIptal != kontrolDegiskeni)
                                                            {
                                                                komOrani = (satisKanaliKomTahIptal / satisKanaliNetTahIptal);
                                                            }

                                                            var verilenKomOrani = (decimal)0;
                                                            if (satisKanaliVerilenKomTahIptal != 0 || satisKanaliKomTahIptal != 0)
                                                            {
                                                                verilenKomOrani = (satisKanaliVerilenKomTahIptal / satisKanaliKomTahIptal);
                                                            }
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @komOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @verilenKomOrani.ToString("N")</td>

                                                            </tr>
                                                        }
                                                    }

                                                }
                                                if (@GenelBrutToplam > 0)
                                                {
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL TOPLAM</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelBrutToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalGenelBrutToplam</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVergiToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalGenelVergiToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelKomisyonToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalGenelKomisyonToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                    </tr>
                                                    //var sonuc9 = (GenelBrutToplam + IptalGenelBrutToplam);
                                                    //var sonuc11 = (GenelVergiToplam + IptalGenelVergiToplam);
                                                    //var sonuc12 = (GenelKomisyonToplam + IptalGenelKomisyonToplam);
                                                    //var sonuc13 = (GenelVerilenKomisyonToplam + IptalGenelVerilenKomisyonToplam);

                                                    decimal GenelBrutTahsilatIptalToplam = 0;
                                                    GenelBrutTahsilatIptalToplam = (GenelBrutToplam + IptalGenelBrutToplam);

                                                    decimal GenelNetTahsilatIptalToplam = 0;
                                                    GenelNetTahsilatIptalToplam = (GenelVergiToplam + IptalGenelVergiToplam);

                                                    decimal GenelKomisyonTahsilatIptalToplam = 0;
                                                    GenelKomisyonTahsilatIptalToplam = (GenelKomisyonToplam + IptalGenelKomisyonToplam);

                                                    decimal GenelVerilenKomisyonTahsilatIptalToplam = 0;
                                                    GenelVerilenKomisyonTahsilatIptalToplam = (GenelVerilenKomisyonToplam + IptalGenelVerilenKomisyonToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td class="" style="width: 4%; font: bold; text-align: right;">Brut  :</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelBrutTahsilatIptalToplam.ToString("N")</td>
                                                        <td class="" style="width: 5%; font: bold; text-align: right;">Net  :</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelNetTahsilatIptalToplam.ToString("N")</td>
                                                        <td class="" style="width: 5%; font: bold; text-align: right;">Komisyon  :</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                        <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                    </tr>

                                                    var genelKomOrani = (GenelKomisyonTahsilatIptalToplam / GenelNetTahsilatIptalToplam);
                                                    var genelVerilenKomOrani = (GenelVerilenKomisyonTahsilatIptalToplam / GenelKomisyonTahsilatIptalToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL KOMİSYON ORANI</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">% @genelKomOrani.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">% @genelVerilenKomOrani.ToString("N")</td>
                                                    </tr>
                                                }
                                            }
                                        }
                                    </tbody>
                                </table>
                            }
                            else
                            {
                                <table class="table table-bordered dataTable data-table" id="data_table_3" style="table-layout: auto; width: 100%;">
                                    <thead>
                                        <tr>
                                            <th style="width: 7%;" rowspan="3">@babonline.TVM</th>
                                            <th style="width: 7%;" rowspan="3">Üzerinden İş Yapılan Dış Kaynak</th>
                                            @if (Model.RaporTipi == 0)
                                            {
                                                <th style="width: 10%;" rowspan="3">@babonline.InsuranceCompany</th>
                                                <th style="width: 5%;" rowspan="3">@babonline.Branch_Name</th>
                                            }
                                            else if (Model.RaporTipi == 1)
                                            {
                                                <th style="width: 5%;" rowspan="3">@babonline.Branch_Name</th>
                                                <th style="width: 10%;" rowspan="3">@babonline.InsuranceCompany</th>
                                            }
                                        </tr>
                                        <tr>
                                            <th colspan="2" style="text-align: center;">@babonline.Gross_Premium</th>
                                            <th colspan="2" style="text-align: center;">@babonline.Net_Premium</th>
                                            <th colspan="2" style="text-align: center;">@babonline.SubAgencyComission</th>
                                        </tr>
                                        <tr>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Accrual</th>
                                            <th style="width: 78px; text-align: center;">@babonline.Cancel</th>
                                        </tr>
                                    </thead>

                                    <tbody>

                                        @if (Model.RaporTipi == 0)
                                        {
                                            var sayac = 0;


                                            //Tanımlamalar
                                            decimal GenelBrutToplam = 0;
                                            decimal GenelVergiToplam = 0;
                                            decimal GenelKomisyonToplam = 0;
                                            decimal GenelVerilenKomisyonToplam = 0;

                                            decimal IptalGenelBrutToplam = 0;
                                            decimal IptalGenelVergiToplam = 0;
                                            decimal IptalGenelKomisyonToplam = 0;
                                            decimal IptalGenelVerilenKomisyonToplam = 0;

                                            decimal araGenelBrutToplam = 0;
                                            decimal araGenelVergiToplam = 0;
                                            decimal araGenelKomisyonToplam = 0;
                                            decimal araGenelVerilenKomisyonToplam = 0;

                                            decimal araIptalGenelBrutToplam = 0;
                                            decimal araIptalGenelVergiToplam = 0;
                                            decimal araIptalGenelKomisyonToplam = 0;
                                            decimal araIptalGenelVerilenKomisyonToplam = 0;

                                            int itemSayac = 0;
                                            int disKaynakItemSayac = 0;
                                            int kontrol = 0;
                                            int disKaynakKontrol = 0;

                                            decimal brutToplam = 0;
                                            decimal komisyonToplam = 0;
                                            decimal verilenKomisyonToplam = 0;
                                            decimal vergiToplam = 0;

                                            decimal IptalvergiToplam = 0;
                                            decimal IptalkomisyonToplam = 0;
                                            decimal IptalbrutToplam = 0;
                                            decimal IptalverilenKomisyonToplam = 0;

                                            decimal disKaynakbrutToplam = 0;
                                            decimal disKaynakkomisyonToplam = 0;
                                            decimal disKaynakverilenKomisyonToplam = 0;
                                            decimal disKaynakvergiToplam = 0;

                                            decimal disKaynakIptalvergiToplam = 0;
                                            decimal disKaynakIptalkomisyonToplam = 0;
                                            decimal disKaynakIptalbrutToplam = 0;
                                            decimal disKaynakIptalverilenKomisyonToplam = 0;

                                            int tvmsayac = 0;
                                            int disKaynakTvmSayac = 0;
                                            int tvmKontrol = 0;
                                            int disKaynakTvmKontrol = 0;

                                            if (Model.procedureList != null)
                                            {
                                                foreach (var item in Model.procedureList)
                                                {
                                                    //Satış Kanalı Gruplama
                                                    if (tvmKontrol == 0)
                                                    {
                                                        araGenelBrutToplam = 0;
                                                        araGenelVergiToplam = 0;
                                                        araGenelKomisyonToplam = 0;
                                                        araGenelVerilenKomisyonToplam = 0;
                                                        araIptalGenelBrutToplam = 0;
                                                        araIptalGenelVergiToplam = 0;
                                                        araIptalGenelKomisyonToplam = 0;
                                                        araIptalGenelVerilenKomisyonToplam = 0;
                                                        foreach (var itemTVM in Model.procedureList)
                                                        {

                                                            if (itemTVM.SatisKanaliUnvani == item.SatisKanaliUnvani)
                                                            {
                                                                araGenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                araGenelVergiToplam += itemTVM.TahakkukToplamNetPrim.HasValue ? itemTVM.TahakkukToplamNetPrim.Value : 0;
                                                                araGenelKomisyonToplam += itemTVM.TahakkukKomisyon.HasValue ? itemTVM.TahakkukKomisyon.Value : 0;
                                                                araGenelVerilenKomisyonToplam += itemTVM.TahakkukVerilenKomisyon.HasValue ? itemTVM.TahakkukVerilenKomisyon.Value : 0;

                                                                araIptalGenelBrutToplam += itemTVM.IptalBrutPrim.HasValue ? itemTVM.IptalBrutPrim.Value : 0;
                                                                araIptalGenelVergiToplam += itemTVM.IptalToplamNetPrim.HasValue ? itemTVM.IptalToplamNetPrim.Value : 0;
                                                                araIptalGenelKomisyonToplam += itemTVM.IptalKomisyon.HasValue ? itemTVM.IptalKomisyon.Value : 0;
                                                                araIptalGenelVerilenKomisyonToplam += itemTVM.IptalVerilenKomisyon.HasValue ? itemTVM.IptalVerilenKomisyon.Value : 0;

                                                                GenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                GenelVergiToplam += itemTVM.TahakkukToplamNetPrim.HasValue ? itemTVM.TahakkukToplamNetPrim.Value : 0;
                                                                GenelKomisyonToplam += itemTVM.TahakkukKomisyon.HasValue ? itemTVM.TahakkukKomisyon.Value : 0;
                                                                GenelVerilenKomisyonToplam += itemTVM.TahakkukVerilenKomisyon.HasValue ? itemTVM.TahakkukVerilenKomisyon.Value : 0;

                                                                IptalGenelBrutToplam += itemTVM.IptalBrutPrim.HasValue ? itemTVM.IptalBrutPrim.Value : 0;
                                                                IptalGenelVergiToplam += itemTVM.IptalToplamNetPrim.HasValue ? itemTVM.IptalToplamNetPrim.Value : 0;
                                                                IptalGenelKomisyonToplam += itemTVM.IptalKomisyon.HasValue ? itemTVM.IptalKomisyon.Value : 0;
                                                                IptalGenelVerilenKomisyonToplam += itemTVM.IptalVerilenKomisyon.HasValue ? itemTVM.IptalVerilenKomisyon.Value : 0;

                                                                if (itemTVM.DisKaynakUnvani == "YOK")
                                                                {
                                                                    tvmsayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakTvmSayac++;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    //şirket Gruplama
                                                    if (kontrol == 0 && disKaynakKontrol == 0)
                                                    {
                                                        brutToplam = 0;
                                                        komisyonToplam = 0;
                                                        verilenKomisyonToplam = 0;
                                                        vergiToplam = 0;
                                                        IptalvergiToplam = 0;
                                                        IptalkomisyonToplam = 0;
                                                        IptalbrutToplam = 0;
                                                        IptalverilenKomisyonToplam = 0;

                                                        disKaynakbrutToplam = 0;
                                                        disKaynakkomisyonToplam = 0;
                                                        disKaynakverilenKomisyonToplam = 0;
                                                        disKaynakvergiToplam = 0;
                                                        disKaynakIptalvergiToplam = 0;
                                                        disKaynakIptalkomisyonToplam = 0;
                                                        disKaynakIptalbrutToplam = 0;
                                                        disKaynakIptalverilenKomisyonToplam = 0;

                                                        foreach (var itemSirket in Model.procedureList)
                                                        {
                                                            if (itemSirket.SirketAdi == item.SirketAdi && itemSirket.SatisKanaliUnvani == item.SatisKanaliUnvani && itemSirket.DisKaynakUnvani == item.DisKaynakUnvani)
                                                            {
                                                                if (itemSirket.DisKaynakUnvani == "YOK")
                                                                {
                                                                    brutToplam += itemSirket.TahakkukBrutPrim.HasValue ? itemSirket.TahakkukBrutPrim.Value : 0;
                                                                    vergiToplam += itemSirket.TahakkukToplamNetPrim.HasValue ? itemSirket.TahakkukToplamNetPrim.Value : 0;
                                                                    komisyonToplam += itemSirket.TahakkukKomisyon.HasValue ? itemSirket.TahakkukKomisyon.Value : 0;
                                                                    verilenKomisyonToplam += Convert.ToDecimal(itemSirket.TahakkukVerilenKomisyon);

                                                                    IptalbrutToplam += itemSirket.IptalBrutPrim.HasValue ? itemSirket.IptalBrutPrim.Value : 0;
                                                                    IptalvergiToplam += itemSirket.IptalToplamNetPrim.HasValue ? itemSirket.IptalToplamNetPrim.Value : 0;
                                                                    IptalkomisyonToplam += itemSirket.IptalKomisyon.HasValue ? itemSirket.IptalKomisyon.Value : 0;
                                                                    IptalverilenKomisyonToplam += itemSirket.IptalVerilenKomisyon.HasValue ? itemSirket.IptalVerilenKomisyon.Value : 0;
                                                                    itemSayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakbrutToplam += itemSirket.TahakkukBrutPrim.HasValue ? itemSirket.TahakkukBrutPrim.Value : 0;
                                                                    disKaynakvergiToplam += itemSirket.TahakkukToplamNetPrim.HasValue ? itemSirket.TahakkukToplamNetPrim.Value : 0;
                                                                    disKaynakkomisyonToplam += itemSirket.TahakkukKomisyon.HasValue ? itemSirket.TahakkukKomisyon.Value : 0;
                                                                    disKaynakverilenKomisyonToplam += Convert.ToDecimal(itemSirket.TahakkukVerilenKomisyon);

                                                                    disKaynakIptalbrutToplam += itemSirket.IptalBrutPrim.HasValue ? itemSirket.IptalBrutPrim.Value : 0;
                                                                    disKaynakIptalvergiToplam += itemSirket.IptalToplamNetPrim.HasValue ? itemSirket.IptalToplamNetPrim.Value : 0;
                                                                    disKaynakIptalkomisyonToplam += itemSirket.IptalKomisyon.HasValue ? itemSirket.IptalKomisyon.Value : 0;
                                                                    disKaynakIptalverilenKomisyonToplam += itemSirket.IptalVerilenKomisyon.HasValue ? itemSirket.IptalVerilenKomisyon.Value : 0;
                                                                    disKaynakItemSayac++;
                                                                }
                                                            }
                                                        }
                                                    }

                                                    //Poliçelerin tabloya yazdırılması
                                                    if (tvmsayac > 0 && tvmKontrol == 0)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="clk" id="str-@sayac">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                    <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                </td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                            </tr>
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;

                                                        }
                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;

                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }

                                                        tvmKontrol = 1;
                                                    }
                                                    else if (tvmsayac > 0 && tvmKontrol == 1)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;

                                                        }
                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;

                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }
                                                    }
                                                    if (itemSayac == 0)
                                                    {
                                                        if (item.DisKaynakUnvani == "YOK")
                                                        {
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalbrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@vergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalvergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalverilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            decimal brutTahIptal = 0;
                                                            brutTahIptal = (brutToplam + IptalbrutToplam);
                                                            decimal netTahIptal = 0;
                                                            netTahIptal = (vergiToplam + IptalvergiToplam);
                                                            decimal komisyonTahIptal = 0;
                                                            komisyonTahIptal = (komisyonToplam + IptalkomisyonToplam);
                                                            decimal verilenKomisyonTahIptal = 0;
                                                            verilenKomisyonTahIptal = (verilenKomisyonToplam + IptalverilenKomisyonToplam);

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@netTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonTahIptal.ToString("N")</td>
                                                            </tr>
                                                            decimal sirketKomOrani = 0;
                                                            decimal sirketVerilenKomOrani = 0;
                                                            if (komisyonTahIptal != kontrolDegiskeni && netTahIptal != kontrolDegiskeni)
                                                            {
                                                                sirketKomOrani = (komisyonTahIptal / netTahIptal);
                                                                sirketVerilenKomOrani = (verilenKomisyonTahIptal / komisyonTahIptal);
                                                            }

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOrani.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 0;
                                                        }

                                                        //if (tvmsayac == 0)
                                                        //{
                                                        //    tvmKontrol = 0;
                                                        //}

                                                        if (tvmsayac == 0 && tvmKontrol == 0 && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0 && item.DisKaynakUnvani != "YOK")
                                                        {
                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="clk" id="str-@sayac">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                        <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                    </td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                </tr>
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }

                                                            disKaynakTvmKontrol = 1;
                                                            tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;


                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;


                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 0 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        if (Model.uretimTvmList != null)
                                                        {
                                                            if (disKaynakItemSayac == 0 && item.DisKaynakUnvani != "YOK")
                                                            {
                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakIptalverilenKomisyonToplam.ToString("N")</td>
                                                                </tr>
                                                                decimal disKaynakbrutTahIptal = 0;
                                                                disKaynakbrutTahIptal = (disKaynakbrutToplam + disKaynakIptalbrutToplam);
                                                                decimal disKaynaknetTahIptal = 0;
                                                                disKaynaknetTahIptal = (disKaynakvergiToplam + disKaynakIptalvergiToplam);
                                                                decimal disKaynakkomisyonTahIptal = 0;
                                                                disKaynakkomisyonTahIptal = (disKaynakkomisyonToplam + disKaynakIptalkomisyonToplam);
                                                                decimal disKaynakverilenKomisyonTahIptal = 0;
                                                                disKaynakverilenKomisyonTahIptal = (disKaynakverilenKomisyonToplam + disKaynakIptalverilenKomisyonToplam);

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynaknetTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonTahIptal.ToString("N")</td>
                                                                </tr>
                                                                decimal sirketKomOran = 0;
                                                                decimal sirketVerilenKomOran = 0;
                                                                if (disKaynakkomisyonTahIptal != kontrolDegiskeni && disKaynaknetTahIptal != kontrolDegiskeni)
                                                                {
                                                                    sirketKomOran = (disKaynakkomisyonTahIptal / disKaynaknetTahIptal);
                                                                    sirketVerilenKomOran = (disKaynakverilenKomisyonTahIptal / disKaynakkomisyonTahIptal);
                                                                }

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOran.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOran.ToString("N")</td>
                                                                </tr>
                                                            }
                                                        }

                                                        if (tvmsayac == 0 && disKaynakTvmSayac == 0)
                                                        {
                                                            tvmKontrol = 0;
                                                            disKaynakTvmKontrol = 0;
                                                        }

                                                        if (tvmKontrol == 0 && disKaynakTvmKontrol == 0)
                                                        {
                                                            sayac++;
                                                            decimal satisKanaliBrutTahIptal = 0;
                                                            satisKanaliBrutTahIptal = (araGenelBrutToplam + araIptalGenelBrutToplam);
                                                            decimal satisKanaliNetTahIptal = 0;
                                                            satisKanaliNetTahIptal = (araGenelVergiToplam + araIptalGenelVergiToplam);
                                                            decimal satisKanaliKomTahIptal = 0;
                                                            satisKanaliKomTahIptal = (araGenelKomisyonToplam + araIptalGenelKomisyonToplam);
                                                            decimal satisKanaliVerilenKomTahIptal = 0;
                                                            satisKanaliVerilenKomTahIptal = (araGenelVerilenKomisyonToplam + araIptalGenelVerilenKomisyonToplam);
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVerilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araIptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim : </td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliBrutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliNetTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@satisKanaliVerilenKomTahIptal.ToString("N")</td>
                                                            </tr>
                                                            var komOrani = (decimal)0;
                                                            if (satisKanaliKomTahIptal != kontrolDegiskeni || satisKanaliNetTahIptal != kontrolDegiskeni)
                                                            {
                                                                komOrani = (satisKanaliKomTahIptal / satisKanaliNetTahIptal);
                                                            }

                                                            var verilenKomOrani = (decimal)0;
                                                            if (satisKanaliVerilenKomTahIptal != kontrolDegiskeni || satisKanaliKomTahIptal != kontrolDegiskeni)
                                                            {
                                                                verilenKomOrani = (satisKanaliVerilenKomTahIptal / satisKanaliKomTahIptal);
                                                            }
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @komOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @verilenKomOrani.ToString("N")</td>

                                                            </tr>
                                                        }
                                                    }
                                                    //-----Poliçelerin tabloya yazdırılması
                                                }
                                                //-----Genel (Dipyekün) toplamların tabloya yazdırılması
                                                if (@GenelBrutToplam > 0)
                                                {
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL TOPLAM</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelBrutToplam.ToString("N")</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@IptalGenelBrutToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVergiToplam.ToString("N")</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@IptalGenelVergiToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@IptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                    </tr>
                                                    decimal GenelBrutTahsilatIptalToplam = 0;
                                                    GenelBrutTahsilatIptalToplam = (GenelBrutToplam + IptalGenelBrutToplam);

                                                    decimal GenelNetTahsilatIptalToplam = 0;
                                                    GenelNetTahsilatIptalToplam = (GenelVergiToplam + IptalGenelVergiToplam);

                                                    decimal GenelKomisyonTahsilatIptalToplam = 0;
                                                    GenelKomisyonTahsilatIptalToplam = (GenelKomisyonToplam + IptalGenelKomisyonToplam);

                                                    decimal GenelVerilenKomisyonTahsilatIptalToplam = 0;
                                                    GenelVerilenKomisyonTahsilatIptalToplam = (GenelVerilenKomisyonToplam + IptalGenelVerilenKomisyonToplam);

                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelBrutTahsilatIptalToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">@GenelNetTahsilatIptalToplam.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                    </tr>
                                                    var genelKomOrani = (GenelKomisyonTahsilatIptalToplam / GenelNetTahsilatIptalToplam);
                                                    var genelVerilenKomOrani = (GenelVerilenKomisyonTahsilatIptalToplam / GenelKomisyonTahsilatIptalToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL KOMİSYON ORANI</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">% @genelKomOrani.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">% @genelVerilenKomOrani.ToString("N")</td>
                                                    </tr>
                                                }   //--------------Genel (Dipyekün) toplamların tabloya yazdırılması
                                            }

                                        }

                                        //Brans Bazında Tabloya kayıt yazdırma
                                        else
                                        {
                                            //----Değişken Tanımlamaları
                                            var sayac = 0;
                                            decimal GenelBrutToplam = 0;
                                            decimal GenelVergiToplam = 0;
                                            decimal GenelKomisyonToplam = 0;
                                            decimal GenelVerilenKomisyonToplam = 0;
                                            decimal IptalGenelBrutToplam = 0;
                                            decimal IptalGenelVergiToplam = 0;
                                            decimal IptalGenelKomisyonToplam = 0;
                                            decimal IptalGenelVerilenKomisyonToplam = 0;
                                            decimal araGenelBrutToplam = 0;
                                            decimal araGenelVergiToplam = 0;
                                            decimal araGenelKomisyonToplam = 0;
                                            decimal araGenelVerilenKomisyonToplam = 0;
                                            decimal araIptalGenelBrutToplam = 0;
                                            decimal araIptalGenelVergiToplam = 0;
                                            decimal araIptalGenelKomisyonToplam = 0;
                                            decimal araIptalGenelVerilenKomisyonToplam = 0;
                                            decimal brutToplam = 0;
                                            decimal komisyonToplam = 0;
                                            decimal verilenKomisyonToplam = 0;
                                            decimal vergiToplam = 0;
                                            decimal IptalvergiToplam = 0;
                                            decimal IptalkomisyonToplam = 0;
                                            decimal IptalbrutToplam = 0;
                                            decimal IptalverilenKomisyonToplam = 0;

                                            decimal disKaynakbrutToplam = 0;
                                            decimal disKaynakkomisyonToplam = 0;
                                            decimal disKaynakverilenKomisyonToplam = 0;
                                            decimal disKaynakvergiToplam = 0;
                                            decimal disKaynakIptalvergiToplam = 0;
                                            decimal disKaynakIptalkomisyonToplam = 0;
                                            decimal disKaynakIptalbrutToplam = 0;
                                            decimal disKaynakIptalverilenKomisyonToplam = 0;

                                            int itemSayac = 0;
                                            int kontrol = 0;

                                            int tvmsayac = 0;
                                            int tvmKontrol = 0;

                                            int disKaynakItemSayac = 0;
                                            int disKaynakKontrol = 0;

                                            int disKaynakTvmSayac = 0;
                                            int disKaynakTvmKontrol = 0;

                                            if (Model.procedureList != null)
                                            {
                                                foreach (var item in Model.procedureList)
                                                {
                                                    // Satış kanalı gruplanıyor
                                                    if (tvmKontrol == 0)
                                                    {
                                                        araGenelBrutToplam = 0;
                                                        araGenelVergiToplam = 0;
                                                        araGenelKomisyonToplam = 0;
                                                        araGenelVerilenKomisyonToplam = 0;
                                                        araIptalGenelBrutToplam = 0;
                                                        araIptalGenelVergiToplam = 0;
                                                        araIptalGenelKomisyonToplam = 0;
                                                        araIptalGenelVerilenKomisyonToplam = 0;
                                                        foreach (var itemTVM in Model.procedureList)
                                                        {
                                                            if (itemTVM.SatisKanaliUnvani == item.SatisKanaliUnvani)
                                                            {
                                                                if (itemTVM.DisKaynakUnvani == "YOK")
                                                                {

                                                                    tvmsayac++;
                                                                }
                                                                else
                                                                {
                                                                    disKaynakTvmSayac++;
                                                                }
                                                                araGenelBrutToplam += itemTVM.TahakkukBrutPrim.HasValue ? itemTVM.TahakkukBrutPrim.Value : 0;
                                                                araGenelVergiToplam += Convert.ToDecimal(itemTVM.TahakkukToplamNetPrim);
                                                                araGenelKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukKomisyon);
                                                                araGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukVerilenKomisyon);
                                                                araIptalGenelBrutToplam += Convert.ToDecimal(itemTVM.IptalBrutPrim);
                                                                araIptalGenelVergiToplam += Convert.ToDecimal(itemTVM.IptalToplamNetPrim);
                                                                araIptalGenelKomisyonToplam += Convert.ToDecimal(itemTVM.IptalKomisyon);
                                                                araIptalGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.IptalVerilenKomisyon);

                                                                GenelBrutToplam += Convert.ToDecimal(itemTVM.TahakkukBrutPrim);
                                                                GenelVergiToplam += Convert.ToDecimal(itemTVM.TahakkukToplamNetPrim);
                                                                GenelKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukKomisyon);
                                                                GenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.TahakkukVerilenKomisyon);
                                                                IptalGenelBrutToplam += Convert.ToDecimal(itemTVM.IptalBrutPrim);
                                                                IptalGenelVergiToplam += Convert.ToDecimal(itemTVM.IptalToplamNetPrim);
                                                                IptalGenelKomisyonToplam += Convert.ToDecimal(itemTVM.IptalKomisyon);
                                                                IptalGenelVerilenKomisyonToplam += Convert.ToDecimal(itemTVM.IptalVerilenKomisyon);
                                                            }
                                                        }
                                                    }

                                                    if (kontrol == 0 && disKaynakKontrol == 0)
                                                    {
                                                        brutToplam = 0;
                                                        komisyonToplam = 0;
                                                        verilenKomisyonToplam = 0;
                                                        vergiToplam = 0;
                                                        IptalvergiToplam = 0;
                                                        IptalkomisyonToplam = 0;
                                                        IptalbrutToplam = 0;
                                                        IptalverilenKomisyonToplam = 0;

                                                        disKaynakbrutToplam = 0;
                                                        disKaynakkomisyonToplam = 0;
                                                        disKaynakverilenKomisyonToplam = 0;
                                                        disKaynakvergiToplam = 0;
                                                        disKaynakIptalvergiToplam = 0;
                                                        disKaynakIptalkomisyonToplam = 0;
                                                        disKaynakIptalbrutToplam = 0;
                                                        disKaynakIptalverilenKomisyonToplam = 0;

                                                        foreach (var itemBrans in Model.procedureList)
                                                        {
                                                            if (itemBrans.BransAdi == item.BransAdi && itemBrans.SatisKanaliUnvani == item.SatisKanaliUnvani && itemBrans.DisKaynakUnvani == item.DisKaynakUnvani)
                                                            {
                                                                if (itemBrans.DisKaynakUnvani == "YOK")
                                                                {
                                                                    itemSayac++;
                                                                    brutToplam += Convert.ToDecimal(itemBrans.TahakkukBrutPrim);
                                                                    vergiToplam += Convert.ToDecimal(itemBrans.TahakkukToplamNetPrim);
                                                                    komisyonToplam += Convert.ToDecimal(itemBrans.TahakkukKomisyon);
                                                                    verilenKomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukVerilenKomisyon);
                                                                    IptalbrutToplam += Convert.ToDecimal(itemBrans.IptalBrutPrim);
                                                                    IptalvergiToplam += Convert.ToDecimal(itemBrans.IptalToplamNetPrim);
                                                                    IptalkomisyonToplam += Convert.ToDecimal(itemBrans.IptalKomisyon);
                                                                    IptalverilenKomisyonToplam += Convert.ToDecimal(itemBrans.IptalVerilenKomisyon);
                                                                }
                                                                else
                                                                {
                                                                    disKaynakItemSayac++;
                                                                    disKaynakbrutToplam += Convert.ToDecimal(itemBrans.TahakkukBrutPrim);
                                                                    disKaynakvergiToplam += Convert.ToDecimal(itemBrans.TahakkukToplamNetPrim);
                                                                    disKaynakkomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukKomisyon);
                                                                    disKaynakverilenKomisyonToplam += Convert.ToDecimal(itemBrans.TahakkukVerilenKomisyon);
                                                                    disKaynakIptalbrutToplam += Convert.ToDecimal(itemBrans.IptalBrutPrim);
                                                                    disKaynakIptalvergiToplam += Convert.ToDecimal(itemBrans.IptalToplamNetPrim);
                                                                    disKaynakIptalkomisyonToplam += Convert.ToDecimal(itemBrans.IptalKomisyon);
                                                                    disKaynakIptalverilenKomisyonToplam += Convert.ToDecimal(itemBrans.IptalVerilenKomisyon);
                                                                }
                                                            }
                                                        }
                                                    }
                                                    if (tvmsayac > 0 && tvmKontrol == 0)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="clk" id="str-@sayac">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                    <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                </td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                            </tr>

                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;
                                                        }

                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;
                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }

                                                        tvmKontrol = 1;
                                                    }

                                                    else if (tvmsayac > 0 && tvmKontrol == 1)
                                                    {
                                                        if (itemSayac > 0 && kontrol == 0)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            kontrol = 1;
                                                            itemSayac--;
                                                            tvmsayac--;
                                                        }

                                                        else if (itemSayac > 0 && kontrol == 1)
                                                        {
                                                            <tr class="strclose-@sayac  closed">
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                            </tr>
                                                            itemSayac--;
                                                            tvmsayac--;
                                                            if (itemSayac == 0)
                                                            {
                                                                kontrol = 0;
                                                            }
                                                        }
                                                    }

                                                    if (itemSayac == 0)
                                                    {
                                                        if (item.DisKaynakUnvani == "YOK")
                                                        {
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@brutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalbrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@vergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalvergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalverilenKomisyonToplam.ToString("N")</td>


                                                            </tr>
                                                            var brutTahIptal = (brutToplam + IptalbrutToplam);
                                                            var netTahIptal = (vergiToplam + IptalvergiToplam);
                                                            var komisyonTahIptal = (komisyonToplam + IptalkomisyonToplam);
                                                            var verilenKomisyonTahIptal = (verilenKomisyonToplam + IptalverilenKomisyonToplam);
                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brut  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@netTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@netTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@verilenKomisyonTahIptal.ToString("N")</td>
                                                            </tr>
                                                            decimal bransKomOrani = 0;
                                                            decimal bransVerilenKomOrani = 0;
                                                            if (komisyonTahIptal != kontrolDegiskeni && netTahIptal != kontrolDegiskeni)
                                                            {
                                                                bransKomOrani = (komisyonTahIptal / netTahIptal);
                                                                bransVerilenKomOrani = (verilenKomisyonTahIptal / komisyonTahIptal);
                                                            }

                                                            <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @bransKomOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @bransVerilenKomOrani.ToString("N")</td>
                                                            </tr>

                                                            kontrol = 0;
                                                        }

                                                        if (tvmsayac == 0 && tvmKontrol == 0 && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0 && item.DisKaynakUnvani != "YOK")
                                                        {
                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="clk" id="str-@sayac">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.SatisKanaliUnvani</td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: center; font-weight: bold;">
                                                                        <img src="~/Content/img/glyphicons_223_chevron-right.png" />
                                                                    </td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                </tr>
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }

                                                            disKaynakTvmKontrol = 1;
                                                            tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 0)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;
                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            disKaynakTvmKontrol = 1;
                                                            tvmKontrol = 1;
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 1 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }

                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        else if (tvmsayac == 0 && tvmKontrol == 0 && item.DisKaynakUnvani != "YOK" && disKaynakTvmSayac > 0 && disKaynakTvmKontrol == 1)
                                                        {

                                                            if (disKaynakItemSayac > 0 && disKaynakKontrol == 0)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;">@item.DisKaynakUnvani</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.BransAdi</td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakKontrol = 1;
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                            else if (disKaynakItemSayac > 0 && disKaynakKontrol == 1)
                                                            {
                                                                <tr class="strclose-@sayac  closed">
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: right; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;"></td>
                                                                    <td style="width: 90px; text-align: left; font-weight: bold;">@item.SirketAdi</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalBrutPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalToplamNetPrim.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.TahakkukVerilenKomisyon.Value.ToString("N")</td>
                                                                    <td class="tutar" style="width: 90px; text-align: right; font-weight: bold;">@item.IptalVerilenKomisyon.Value.ToString("N")</td>
                                                                </tr>
                                                                disKaynakItemSayac--;
                                                                disKaynakTvmSayac--;

                                                                if (disKaynakItemSayac == 0)
                                                                {
                                                                    disKaynakKontrol = 0;
                                                                }
                                                            }
                                                        }
                                                        if (Model.uretimTvmList != null)
                                                        {
                                                            if (disKaynakItemSayac == 0 && item.DisKaynakUnvani != "YOK")
                                                            {
                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalbrutToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakIptalvergiToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonToplam.ToString("N")</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakIptalverilenKomisyonToplam.ToString("N")</td>
                                                                </tr>
                                                                decimal disKaynakbrutTahIptal = 0;
                                                                disKaynakbrutTahIptal = (disKaynakbrutToplam + disKaynakIptalbrutToplam);
                                                                decimal disKaynaknetTahIptal = 0;
                                                                disKaynaknetTahIptal = (disKaynakvergiToplam + disKaynakIptalvergiToplam);
                                                                decimal disKaynakkomisyonTahIptal = 0;
                                                                disKaynakkomisyonTahIptal = (disKaynakkomisyonToplam + disKaynakIptalkomisyonToplam);
                                                                decimal disKaynakverilenKomisyonTahIptal = 0;
                                                                disKaynakverilenKomisyonTahIptal = (disKaynakverilenKomisyonToplam + disKaynakIptalverilenKomisyonToplam);

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynakbrutTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">@disKaynaknetTahIptal.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">@disKaynakverilenKomisyonTahIptal.ToString("N")</td>
                                                                </tr>
                                                                decimal sirketKomOran = 0;
                                                                decimal sirketVerilenKomOran = 0;
                                                                if (disKaynakkomisyonTahIptal != kontrolDegiskeni && disKaynaknetTahIptal != kontrolDegiskeni)
                                                                {
                                                                    sirketKomOran = (disKaynakkomisyonTahIptal / disKaynaknetTahIptal);
                                                                    sirketVerilenKomOran = (disKaynakverilenKomisyonTahIptal / disKaynakkomisyonTahIptal);
                                                                }

                                                                <tr class="strclose-@sayac  closed" style="background-color: #D8D8D8">
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 7%; font: bold; background-color: #FDFCFC; text-align: right;"></td>
                                                                    <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                    <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 4%; font: bold; text-align: right;">%  @sirketKomOran.ToString("N")</td>
                                                                    <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                    <td class="tutar" style="width: 5%; font: bold; text-align: right;">%  @sirketVerilenKomOran.ToString("N")</td>
                                                                </tr>
                                                            }
                                                        }

                                                        if (tvmsayac == 0 && disKaynakTvmSayac == 0)
                                                        {
                                                            tvmKontrol = 0;
                                                            disKaynakTvmKontrol = 0;
                                                        }

                                                        if (tvmKontrol == 0 && disKaynakTvmKontrol == 0)
                                                        {
                                                            sayac++;
                                                            decimal satisKanaliBrutTahIptal = 0;
                                                            satisKanaliBrutTahIptal = (araGenelBrutToplam + araIptalGenelBrutToplam);
                                                            decimal satisKanaliNetTahIptal = 0;
                                                            satisKanaliNetTahIptal = (araGenelVergiToplam + araIptalGenelVergiToplam);
                                                            decimal satisKanaliKomTahIptal = 0;
                                                            satisKanaliKomTahIptal = (araGenelKomisyonToplam + araIptalGenelKomisyonToplam);
                                                            decimal satisKanaliVerilenKomTahIptal = 0;
                                                            satisKanaliVerilenKomTahIptal = (araGenelVerilenKomisyonToplam + araIptalGenelVerilenKomisyonToplam);
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelBrutToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@araIptalGenelVergiToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araGenelVerilenKomisyonToplam.ToString("N")</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@araIptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                            </tr>
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;">Brüt Prim : </td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliBrutTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Net Prim :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">@satisKanaliNetTahIptal.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                                <td class="tutar" style="width: 5%; font: bold; text-align: right;">@satisKanaliVerilenKomTahIptal.ToString("N")</td>
                                                            </tr>
                                                            var komOrani = (decimal)0;
                                                            if (satisKanaliKomTahIptal != kontrolDegiskeni || satisKanaliNetTahIptal != kontrolDegiskeni)
                                                            {
                                                                komOrani = (satisKanaliKomTahIptal / satisKanaliNetTahIptal);
                                                            }

                                                            var verilenKomOrani = (decimal)0;
                                                            if (satisKanaliVerilenKomTahIptal != kontrolDegiskeni || satisKanaliKomTahIptal != kontrolDegiskeni)
                                                            {
                                                                verilenKomOrani = (satisKanaliVerilenKomTahIptal / satisKanaliKomTahIptal);
                                                            }
                                                            <tr style="background-color: #A6A5A5">
                                                                <td style="width: 8%;">KOMİSYON ORANLARI</td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td style="width: 7%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;"></td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran  :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @komOrani.ToString("N")</td>
                                                                <td class="" style="width: 5%; font: bold; text-align: right;">Oran :</td>
                                                                <td class="tutar" style="width: 4%; font: bold; text-align: right;">% @verilenKomOrani.ToString("N")</td>

                                                            </tr>
                                                        }
                                                    }

                                                }
                                                if (@GenelBrutToplam > 0)
                                                {
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL TOPLAM</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelBrutToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalGenelBrutToplam</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVergiToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@IptalGenelVergiToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonToplam.ToString("N")</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@IptalGenelVerilenKomisyonToplam.ToString("N")</td>
                                                    </tr>

                                                    decimal GenelBrutTahsilatIptalToplam = 0;
                                                    GenelBrutTahsilatIptalToplam = (GenelBrutToplam + IptalGenelBrutToplam);

                                                    decimal GenelNetTahsilatIptalToplam = 0;
                                                    GenelNetTahsilatIptalToplam = (GenelVergiToplam + IptalGenelVergiToplam);

                                                    decimal GenelKomisyonTahsilatIptalToplam = 0;
                                                    GenelKomisyonTahsilatIptalToplam = (GenelKomisyonToplam + IptalGenelKomisyonToplam);

                                                    decimal GenelVerilenKomisyonTahsilatIptalToplam = 0;
                                                    GenelVerilenKomisyonTahsilatIptalToplam = (GenelVerilenKomisyonToplam + IptalGenelVerilenKomisyonToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">TOPLAM (TAH-İPTAL)</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td class="" style="width: 4%; font: bold; text-align: right;">Brut  :</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelBrutTahsilatIptalToplam.ToString("N")</td>
                                                        <td class="" style="width: 5%; font: bold; text-align: right;">Net  :</td>
                                                        <td class="tutar" style="width: 4%; font: bold; text-align: right;">@GenelNetTahsilatIptalToplam.ToString("N")</td>
                                                        <td class="" style="width: 5%; font: bold; text-align: right;">Verilen Komisyon :</td>
                                                        <td class="tutar" style="width: 5%; font: bold; text-align: right;">@GenelVerilenKomisyonTahsilatIptalToplam.ToString("N")</td>
                                                    </tr>

                                                    var genelKomOrani = (GenelKomisyonTahsilatIptalToplam / GenelNetTahsilatIptalToplam);
                                                    var genelVerilenKomOrani = (GenelVerilenKomisyonTahsilatIptalToplam / GenelKomisyonTahsilatIptalToplam);
                                                    <tr style="background-color: #99ccff">
                                                        <td style="width: 8%;">GENEL KOMİSYON ORANI</td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 7%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 4%; font: bold; text-align: right;"></td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 4%; font: bold; text-align: right;">% @genelKomOrani.ToString("N")</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">Oran:</td>
                                                        <td style="width: 5%; font: bold; text-align: right;">% @genelVerilenKomOrani.ToString("N")</td>
                                                    </tr>
                                                }
                                            }
                                        }
                                    </tbody>
                                </table>
                            }
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
